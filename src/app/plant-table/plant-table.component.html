<div id="items-table">
    <div class="level is-mobile">
        <div class="level-left">
            <h1 class="level-item title">Items</h1>
        </div>
        <div class="level-right">
            <input #search id="search" class="level-item input is-rounded" type="text" placeholder="Search"
                (keyup)="filterItems(search.value)">
            <button class="button is-rounded" (click)="itemModal.newItem()">Add</button>
        </div>
    </div>
    <div class="table-container">
        <table class="table is-fullwidth">
            <thead>
                <th id="head"><i class="fi fi-br-apple-whole"></i>Variety</th>
                <th><i class="fi fi-br-list"></i>Category</th>
                <th><i class="fi fi-br-clock"></i>SowDate</th>
                <th><i class="fi fi-br-clock"></i>BloomDate</th>
                <th><i class="fi fi-br-clock"></i>HarvestDate</th>
                <th><i class="fi fi-br-heart"></i>Rating</th>
                <th><i class="fi fi-br-check"></i>SaveSeed</th>
            </thead>
            <tbody>
                <tr *ngFor="let item of items" (change)="editItem(item)">
                    <td (mouseenter)="focousItemId = item.id" (mouseleave)="focousItemId = 0" style="width: 15px;">
                        <input type="text" class="input" [(ngModel)]="item.name">
                        <span id="detail-btn" [routerLink]="['/plant-detail', item.id]" class="tag"
                            *ngIf="focousItemId == item.id"><i class="fi fi-br-interlining"></i>detail</span>
                    </td>
                    <td><input type="text" class="input" [(ngModel)]="item.category"></td>
                    <td><input type="date" class="input date-picker" [(ngModel)]="item.sowDate"></td>
                    <td><input type="date" class="input date-picker" [(ngModel)]="item.bloomDate"></td>
                    <td><input type="date" class="input date-picker" [(ngModel)]="item.harvestDate"></td>
                    <td><input type="text" class="input" [(ngModel)]="item.rating"></td>
                    <td>
                        <label class="checkbox">
                            <input type="checkbox" [(ngModel)]="item.saveSeed">
                        </label>
                        <span id="delete-btn" class="tag is-danger" (click)="deleteModal.delteItem(item.id)">delete</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<app-plant-item-modal (newItemEvent)="reloadPage()" #itemModal></app-plant-item-modal>
<app-delete-item-modal (deleteItemEvent)="reloadPage()" #deleteModal></app-delete-item-modal>